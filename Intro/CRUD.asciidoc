=== Indexing documents

Before we can _index_ -- that is, store and make searchable --  our
user document in Elasticsearch, we need to decide what _type_ of document it
is, and where -- in which _index_ -- to store it.

.Index, type and ID
****
Think of an _index_ as being like a database in a relational database, and
a _type_ as being like a table in that database.

A document ID must be unique across the `index` and the `type`, otherwise
you may overwrite an existing document. If you don't specify an ID, a unique ID
will be auto-generated for you.
****

We are going to store it in the `blogs` index, as type `user`, and we
can assign this user the unique ID `johnsmith`:

    curl -XPUT 'localhost:9200/blogs/user/johnsmith?pretty' -d '
    {
        "email":     "john@smith.com",
        "name": {
            "first": "John",
            "last":  "Smith"
        },
        "bio":       "Eco-warrior and defender of the weak",
        "age":       25,
        "join_date": "2013/05/01",
        "interests": ["dolphins", "whales"]
    }
    '

And we receive the following response, which confirms that our document
has been indexed correctly:

    {
      "ok" : true,
      "_index" : "blogs",
      "_type" : "user",
      "_id" : "johnsmith",
      "_version" : 1
    }

=== Real-time GET

Elasticsearch has _real-time GET_. In other words, as soon as the document
has been indexed, it can be retrieved from any node in the cluster.

Not only that, but changes to documents are _persistent_: if the whole cluster
were to suffer a power failure immediately after indexing a document, the
change would still be there when the cluster is restarted.

We can retrieve (or `GET`) the document using the same `index`, `type` and `id`
that we specified when indexing it:

    curl -XGET 'localhost:9200/blogs/user/johnsmith?pretty'

The response contains the exact same JSON document that we indexed, as the
`_source` field, plus some extra metadata:

    {
        "_index" :    "blogs",
        "_type" :     "user",
        "_id" :       "johnsmith",
        "_version" :  1,
        "exists" :    true,
        "_source" :   {
             "email":     "john@smith.com",
             "name": {
                 "first": "John",
                 "last":  "Smith"
             },
             "bio":       "Eco-warrior and defender of the weak",
             "age":       25,
             "join_date": "2013/05/01",
             "interests": ["dolphins", "whales"]
        }
    }



